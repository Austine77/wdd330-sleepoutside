<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Marmot Ajax Tent | Sleep Outside</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>

  <body>
    <header class="divider">
      <div class="logo">
        <img src="/images/noun_Tent_2517.svg" alt="tent image for logo" />
        <a href="/index.html">
          Sleep<span class="highlight">Outside</span>
        </a>
      </div>

      <div class="cart">
        <a href="/cart.html">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <path
              d="M18.9 32.6c1.1 2.4 2.5 3.3 5.4 3.3..."
            />
          </svg>
        </a>
      </div>
    </header>

    <main class="divider product-detail">
      <section class="product-detail__image">
        <img
          src="/images/tents/marmot-ajax-tent-3-person-3-season-in-pale-pumpkin-terracotta~p~880rr_01~320.jpg"
          alt="Marmot Ajax Tent"
        />
      </section>

      <section class="product-detail__info">
        <h1>Marmot Ajax Tent</h1>
        <h2>3-Person • 3-Season</h2>
        <p class="product-card__price">$199.99</p>

        <p>
          Lightweight and durable 3-person tent designed for comfort in
          three-season conditions. Perfect for backpacking and car camping.
        </p>

        <button id="addToCartBtn" class="add-to-cart">
          Add to Cart
        </button>
      </section>
    </main>

    <footer>
      &copy;2026 ⛺ SleepOutside ⛺ WDD 330 ⛺ BYU-Idaho
    </footer>

    <!-- ✅ Add to Cart Logic -->
    <script>
      const product = {
        id: "marmot-ajax-3",
        name: "Marmot Ajax Tent - 3 Person, 3 Season",
        price: 199.99,
        image:
          "/images/tents/marmot-ajax-tent-3-person-3-season-in-pale-pumpkin-terracotta~p~880rr_01~320.jpg",
        quantity: 1,
      };

      document
        .getElementById("addToCartBtn")
        .addEventListener("click", () => {
          let cart = JSON.parse(localStorage.getItem("cart")) || [];

          const existingItem = cart.find(
            (item) => item.id === product.id
          );

          if (existingItem) {
            existingItem.quantity += 1;
          } else {
            cart.push(product);
          }

          localStorage.setItem("cart", JSON.stringify(cart));

          // ✅ Redirect to cart page
          window.location.href = "/cart.html";
        });
    </script>
  </body>
</html>
